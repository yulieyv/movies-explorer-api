#  Movies Explorer

API сервиса, в котором можно найти фильмы по запросу и сохранить в личном кабинете.

- IP адрес сервера: **158.160.29.225**
- URL: **https://api.yamalieva.diploma.nomoreparties.co**

---

# Функционал проекта

1.  Регистрация пользователя 
2.  Авторизация пользователя
3.  Редактирование данных в профиле пользователя  
4.  Добавление и сохранение фильма в приложении  
5.  Удаление фильма  
6.  Централизованная обработка ошибок
7.  Валидация запросов  
8.  Логирование запросов и ошибок  

## Запуск проекта

`npm run start` — запускает сервер   
`npm run dev` — запускает сервер в режиме разработки с хот-релоадом

## Директории

`/controllers` —  папка с контроллерами  
`/middlewares` — папка с middlewares  
`/models` —  папка с моделями БД  
`/routes` — папка с файлами роутера  
`/utils` —  папка с вспомогательными функциями  

---

# Модели
## Модель пользователя user

|  Название  |     Тип поля      |            Ограничения             |     Описание     |
| :--------: | :---------------: | :--------------------------------: | :--------------: |
|   `name`   |     `String`      |      От `2` до `30` символов       | Имя пользователя. Обязательное поле. |
|  `email`   | `String` | E-mail формата `example@email.com` | Почта пользователя, уникальная для каждого пользователя. |
| `password` |     `String`      |       Хеш пароля. База данных не возвращает это поле.        | Пароль для входа |


## Модель фильма movie

|   Название    |     Тип поля     |             Описание                 |   Ограничения                    |
| :-----------: | :--------------: | :-------------------------------------: | :---------------------------: |
|   `country`   |     `String`     |                    —                    |            Страна создания фильма            |
|  `director`   |     `String`     |                    —                    |           Режиссёр            |
|  `duration`   |     `Number`     |                    —                    |         Длительность фильма         |
|    `year`     |     `String`     |                    —                    |          Год выпуска фильма           |
| `description` |     `String`     |                    —                    |           Описание фильма           |
|    `image`    | `String` | URL-адрес      |  Ссылка на постер к фильму             |
|   `trailer`   | `String` | URL-адрес     | Ссылка на трейлер фильма            |
|  `thumbnail`  | `String` | URL-адрес     |    Миниатюрное изображение постера к фильму    |
|    `owner`    |    `ObjectId`    |                    —                    | Создатель БД-записи о фильме (id пользователя)  |
|   `nameRU`    |     `String`     |                    —                    |  Название фильма на русском языке   |
|   `nameEN`    |     `String`     |                    —                    | Название фильма на английском языке |


---

# Методы и роуты

|        Тип запроса        | Путь  |                  Ответ сервера                   |
| :----------------: | :---------: | :----------------------------------------------: |
|     `GET`     |    /users/me   |         Возвращает информацию о пользователе (email и имя)          |
|     `PATCH`   |   /users/me     | Обновляет информацию о пользователе (email и имя) |
|      `GET`     |   /movies   |  Возвращает все сохранённые текущим пользователем фильмы   |
|     `POST`     |    /movies  |   Создание собственной записи с фильмом    |
|    `DELETE`  | /movies/:movieId   |   Удаление сохраненного фильма    |
|     `POST`     |  /signup    |               Регистрация аккаунта пользователя               |
|     `POST`     |   /signin    |     Вход в аккаунт с помощью email и пароля     |

---
## Как развернуть проект:

```
# клонирование репозитория
git clone https://github.com/yulieyv/movies-explorer-api.git

# установка зависимостей
$ npm install

# Запуск проекта 
$ npm run dev
```
